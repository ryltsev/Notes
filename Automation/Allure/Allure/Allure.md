**Шаг 1.** Установить Allure Commandline:

1. Скачайте последнюю версию инструмента в расширении .zip из [Maven Central](http://repo.maven.apache.org/maven2/io/qameta/allure/allure-commandline/).

2. Извлеките содержимое архива в папку, в которую хотите установить Allure.**NB: **если Вы работаете в ОС Windows, Вам также необходимо установить Allure-дистрибутив, который находится в извлеченной папке, с помощью стандартной установки Windows.

3. Добавьте папку bin из содержимого, извлеченного на предыдущем шаге, в [PATH](https://www.java.com/ru/download/help/path.xml). Путь к нужной нам папке выглядит примерно так (именно его и нужно добавить в PATH):`.../allure-commandline-2.10.0/allure-2.10.0/bin/`

4. Проверьте, что Allure успешно установлен, командой: `allure --version`

**Шаг 2.** Установить allure для PyTest. Проще всего это сделать через пакетный менеджер:

`$ pip install allure-pytest`

**Шаг 3.** Создать папку, в которой будем хранить результаты запуска тестов, которые в дальнейшем станут основой для репортов. Лучше всего назвать её так, чтобы было понятно, зачем она нужна: например my_allure_reports.

**Шаг 4.** Запустить тест из тест-комплекта командой:

`$ pytest --alluredir=/path/to/my_allure_results test_name.py`

Параметр `--alluredir=/path/to/my_allure_results` здесь инициирует запуск так называемого лисенера (listener), т.е. сборщика информации о прохождении теста и его результатах из PyTest. Обратите внимание: после такого запуска в папке my_allure_reports появлятся файлы, из которых в следующем шаге мы "соберем" отчет.

**Шаг 5.** "Собрать" репорт командой:

`$ allure serve /path/to/my_allure_reports`

В ответ на эту команду у вас автоматически откроется новая вкладка Chrome, в которой будет отображена HTML-страница, расположенная на локальном хосте вашего компьютера, с результатами прохождения тестов, запущенных в шаге 4.

Обратите внимание: Allure делит тесты не только на Passed и Failed: у него есть несколько статусов теста в PyTest.

- PASSED — тест пройден;
- FAILED — тест упал в момент проверки `assert`;
- ERROR — тест упал, но не в момент проверки, а во время выполнения шагов. Ошибка может быть в фикстуре, в синтаксисе, в локаторе и т.д.;
- SKIPPED — тест был пропущен, например, из-за маркировки `pytest.mark.skip`;
- xfail — тест помечен соответствующим маркером и действительно упал;
- XPASS — тест, помеченный как xfail, не упал.